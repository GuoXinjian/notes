{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to GXJ's notes","title":"Home"},{"location":"#welcome-to-gxjs-notes","text":"","title":"Welcome to GXJ's notes"},{"location":"Go/Gorm/%E9%80%9A%E7%94%A8CURD%E6%96%B9%E6%B3%95/","text":"\u901a\u7528CURD\u65b9\u6cd5 database.go package database import ( \"app/database\" \"gorm.io/driver/mysql\" \"gorm.io/gorm\" ) var MysqlDB *gorm.DB func MysqlInit() error { var err error MysqlDB, err = gorm.Open(mysql.Open(Host), &gorm.Config{}) if err != nil { panic(err) } return err } basemodel.go package model import ( \"app/database\" ) type TableNameAble interface { TableName() string } func Create(value TableNameAble) error { err := database.MysqlDB.Create(value).Error return err } user.go package model import ( \"gorm.io/gorm\" ) type User struct { gorm.Model Name string Age int } func (User) TableName() string { return \"User\" } controller.go \u4ee5Gin\u4e3a\u4f8b package controller import ( \"app/model\" \"github.com/gin-gonic/gin\" ) func Create(c *gin.Context) { var user model.User user.Name = \"username\" user.Age = age err := model.Create(&user) if err != nil { c.JSON(500, gin.H{ \"message\": \"create failed\", }) return } c.JSON(200, gin.H{ \"message\": \"create success\", }) }","title":"\u901a\u7528CURD\u65b9\u6cd5"},{"location":"Go/Gorm/%E9%80%9A%E7%94%A8CURD%E6%96%B9%E6%B3%95/#curd","text":"database.go package database import ( \"app/database\" \"gorm.io/driver/mysql\" \"gorm.io/gorm\" ) var MysqlDB *gorm.DB func MysqlInit() error { var err error MysqlDB, err = gorm.Open(mysql.Open(Host), &gorm.Config{}) if err != nil { panic(err) } return err } basemodel.go package model import ( \"app/database\" ) type TableNameAble interface { TableName() string } func Create(value TableNameAble) error { err := database.MysqlDB.Create(value).Error return err } user.go package model import ( \"gorm.io/gorm\" ) type User struct { gorm.Model Name string Age int } func (User) TableName() string { return \"User\" } controller.go \u4ee5Gin\u4e3a\u4f8b package controller import ( \"app/model\" \"github.com/gin-gonic/gin\" ) func Create(c *gin.Context) { var user model.User user.Name = \"username\" user.Age = age err := model.Create(&user) if err != nil { c.JSON(500, gin.H{ \"message\": \"create failed\", }) return } c.JSON(200, gin.H{ \"message\": \"create success\", }) }","title":"\u901a\u7528CURD\u65b9\u6cd5"}]}